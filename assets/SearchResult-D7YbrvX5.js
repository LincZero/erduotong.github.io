import{u as M,g as EE,h as eE,i as P,j as tE,k as sE,t as aE,l as lE,m as O,n as F,p as AE,w as BE,q as t,v as iE,R as T,x as rE,y as uE,z as nE,D as oE,A as cE,B as hE,C as mE,E as vE,F as dE,G as b,H as DE,I as gE,J as CE,K as yE,L as _,M as I,N as pE}from"./app-CfZ_ajB2.js";const FE=["/","/catalog.html","/41%20%E7%AC%94%E8%AE%B0/","/43%20%E9%A1%B9%E7%9B%AE/","/42%20%E5%8D%9A%E5%AE%A2/","/about_site/","/about_site/friend.html","/about_site/intro.html","/about_site/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99.html","/41%20%E7%AC%94%E8%AE%B0/000%20MOCS/Vuepress%E7%9B%B8%E5%85%B3.html","/41%20%E7%AC%94%E8%AE%B0/000%20MOCS/%E7%A4%BE%E4%BC%9A%E5%B8%B8%E8%AF%86.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Github%20Pages%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%A4%B1%E6%95%88.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Proxifier.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Proxifier%E6%BF%80%E6%B4%BB.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Proxifier%E8%BD%AC%E5%8F%91%E5%88%B0Fiddler.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Tauri.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Tauri%E5%92%8CTracing%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E6%97%B6%E6%97%A0%E6%B3%95%E5%86%99%E5%85%A5%E5%88%B0%E6%96%87%E4%BB%B6.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/Vuepress%E4%B8%AD%E6%8F%92%E4%BB%B6%E6%B7%BB%E5%8A%A0%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/git%E4%BD%BF%E7%94%A8ssh%E7%9A%84%E5%90%8C%E6%97%B6%E4%BD%BF%E7%94%A8watt%20toolkit%E5%8A%A0%E9%80%9Fgithub.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/jsdom%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8localStorage.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/vuepress%20%E6%89%93%E5%8C%85%E5%90%8E%E4%B8%8D%E8%87%AA%E5%8A%A8%E9%80%80%E5%87%BA.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/%E5%8C%BB%E9%99%A2%E7%9C%8B%E7%97%85%E6%B5%81%E7%A8%8B.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%8C%BB%E4%BF%9D.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%97%A0%E6%B3%95%E5%8C%B9%E9%85%8Dmarkdown%E9%93%BE%E6%8E%A5.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/%E6%B7%BB%E5%8A%A0Giscus%E8%AF%84%E8%AE%BA.html","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/%E9%98%B2%E6%AD%A2%E6%A0%87%E9%A2%98%E8%A2%AB%E5%90%9E.html","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/project.html","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/%E6%90%AD%E5%BB%BA%E5%BE%85%E5%8A%9E%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F.html","/43%20%E9%A1%B9%E7%9B%AE/%E5%8D%9A%E5%AE%A2%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/project.html","/43%20%E9%A1%B9%E7%9B%AE/%E5%8D%9A%E5%AE%A2%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B.html","/42%20%E5%8D%9A%E5%AE%A2/debug%E8%AE%B0%E5%BD%95/%E4%B8%80%E4%B8%AA%EF%BC%8A%E5%BC%95%E5%8F%91%E7%9A%84%E6%83%A8%E6%A1%88.html","/42%20%E5%8D%9A%E5%AE%A2/%E6%B8%B8%E8%AE%B0/CSP%20J%20%EF%BC%8FS2024.html","/42%20%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8ETauri%E7%9A%84%E7%AE%80%E5%8D%95Todo%20-%20just%20tauri%20todo.html","/41%20%E7%AC%94%E8%AE%B0/%E5%8C%96%E5%AD%A6/%E8%B0%83%E6%9F%A5%E5%AE%9E%E8%B7%B5/%E7%8E%B0%E4%BB%A3%E7%82%BC%E9%93%81%E5%8E%82%E4%B8%BB%E8%A6%81%E4%BD%BF%E7%94%A8%E7%9A%84%E7%87%83%E6%96%99%E5%92%8C%E5%86%B6%E9%93%81%E6%96%B9%E5%BC%8F.html","/41%20%E7%AC%94%E8%AE%B0/%E5%8C%96%E5%AD%A6/%E8%B0%83%E6%9F%A5%E5%AE%9E%E8%B7%B5/%E7%8E%B0%E4%BB%A3%E9%92%A2%E9%93%81%E5%8E%82%E7%9A%84%E5%B8%83%E5%B1%80%E4%B8%8E%E5%BD%B1%E5%93%8D%E5%9B%A0%E7%B4%A0.html","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/Obsidian%20%E6%A8%A1%E6%9D%BF_%E7%BB%84%E4%BB%B6/project.html","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/Obsidian%20%E6%A8%A1%E6%9D%BF_%E7%BB%84%E4%BB%B6/%E6%A3%80%E6%9F%A5%E4%B8%8D%E8%A7%84%E8%8C%83%E7%9A%84%E6%96%87%E4%BB%B6/Obsidian%E7%BB%84%E4%BB%B6%E2%80%94%E2%80%94%E6%A3%80%E6%9F%A5%E4%B8%8D%E8%A7%84%E8%8C%83%E7%9A%84%E6%96%87%E4%BB%B6.html","/404.html","/41%20%E7%AC%94%E8%AE%B0/000%20MOCS/","/41%20%E7%AC%94%E8%AE%B0/001%20%E5%8D%A1%E7%89%87/","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/","/43%20%E9%A1%B9%E7%9B%AE/%E5%8D%9A%E5%AE%A2%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/","/42%20%E5%8D%9A%E5%AE%A2/debug%E8%AE%B0%E5%BD%95/","/42%20%E5%8D%9A%E5%AE%A2/%E6%B8%B8%E8%AE%B0/","/42%20%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/","/41%20%E7%AC%94%E8%AE%B0/%E5%8C%96%E5%AD%A6/%E8%B0%83%E6%9F%A5%E5%AE%9E%E8%B7%B5/","/41%20%E7%AC%94%E8%AE%B0/%E5%8C%96%E5%AD%A6/","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/Obsidian%20%E6%A8%A1%E6%9D%BF_%E7%BB%84%E4%BB%B6/","/43%20%E9%A1%B9%E7%9B%AE/Obsidian%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/Obsidian%20%E6%A8%A1%E6%9D%BF_%E7%BB%84%E4%BB%B6/%E6%A3%80%E6%9F%A5%E4%B8%8D%E8%A7%84%E8%8C%83%E7%9A%84%E6%96%87%E4%BB%B6/","/category/","/category/mocs/","/category/%E5%8D%A1%E7%89%87/","/category/project/","/category/blog/","/tag/","/tag/github/","/tag/githubpage/","/tag/proxifier/","/tag/%E7%A0%B4%E8%A7%A3%E6%BF%80%E6%B4%BB/","/tag/tauri/","/tag/rust/","/tag/%E6%97%A5%E5%BF%97/","/tag/debug/","/tag/tracing/","/tag/git/","/tag/ssh/","/tag/watt-toolkit/","/tag/localstorage/","/tag/jsdom/","/tag/nodejs/","/tag/vuepress/","/tag/%E7%9C%8B%E7%97%85/","/tag/%E6%B5%81%E7%A8%8B/","/tag/%E5%8C%BB%E4%BF%9D/","/tag/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","/tag/giscus/","/tag/vuepresstheme-hope/","/tag/%E5%B7%A5%E4%BD%9C%E6%B5%81/","/tag/obsidian/","/tag/linux/","/tag/debug%E8%AE%B0%E5%BD%95/","/tag/csp/","/tag/%E6%B8%B8%E8%AE%B0/","/tag/%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/","/tag/%E5%8C%96%E5%AD%A6/","/tag/dataviewjs/","/article/","/star/","/timeline/"],bE="SLIMSEARCH_QUERY_HISTORY",v=M(bE,[]),fE=()=>{const{queryHistoryCount:s}=b,a=s>0;return{enabled:a,queryHistories:v,addQueryHistory:l=>{a&&(v.value=Array.from(new Set([l,...v.value.slice(0,s-1)])))},removeQueryHistory:l=>{v.value=[...v.value.slice(0,l),...v.value.slice(l+1)]}}},q=s=>FE[s.id]+("anchor"in s?`#${s.anchor}`:""),HE="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:$}=b,d=M(HE,[]),kE=()=>{const s=$>0;return{enabled:s,resultHistories:d,addResultHistory:a=>{if(s){const l={link:q(a),display:a.display};"header"in a&&(l.header=a.header),d.value=[l,...d.value.slice(0,$-1)]}},removeResultHistory:a=>{d.value=[...d.value.slice(0,a),...d.value.slice(a+1)]}}},wE=s=>{const a=oE(),l=P(),f=cE(),B=O(0),g=F(()=>B.value>0),h=hE([]);return mE(()=>{const{search:m,terminate:H}=vE(),D=dE(r=>{const{resultsFilter:C=i=>i,querySplitter:Q,suggestionsFilter:k,...w}=a.value;r?(B.value+=1,m(r,l.value,w).then(i=>C(i,r,l.value,f.value)).then(i=>{B.value-=1,h.value=i}).catch(i=>{console.warn(i),B.value-=1,B.value||(h.value=[])})):h.value=[]},b.searchDelay-b.suggestDelay,{maxWait:5e3});DE([s,l],([r])=>D(r.join(" "))),gE(()=>{H()})}),{isSearching:g,results:h}};var SE=EE({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:a}){const l=eE(),f=P(),B=tE(sE),{enabled:g,addQueryHistory:h,queryHistories:m,removeQueryHistory:H}=fE(),{enabled:D,resultHistories:r,addResultHistory:C,removeResultHistory:Q}=kE(),k=g||D,w=aE(s,"queries"),{results:i,isSearching:U}=wE(w),A=lE({isQuery:!0,index:0}),o=O(0),c=O(0),j=F(()=>k&&(m.value.length>0||r.value.length>0)),x=F(()=>i.value.length>0),S=F(()=>i.value[o.value]||null),G=()=>{const{isQuery:E,index:e}=A;e===0?(A.isQuery=!E,A.index=E?r.value.length-1:m.value.length-1):A.index=e-1},V=()=>{const{isQuery:E,index:e}=A;e===(E?m.value.length-1:r.value.length-1)?(A.isQuery=!E,A.index=0):A.index=e+1},Y=()=>{o.value=o.value>0?o.value-1:i.value.length-1,c.value=S.value.contents.length-1},J=()=>{o.value=o.value<i.value.length-1?o.value+1:0,c.value=0},z=()=>{c.value<S.value.contents.length-1?c.value+=1:J()},K=()=>{c.value>0?c.value-=1:Y()},R=E=>E.map(e=>pE(e)?e:t(e[0],e[1])),N=E=>{if(E.type==="customField"){const e=CE[E.index]||"$content",[u,p=""]=yE(e)?e[f.value].split("$content"):e.split("$content");return E.display.map(n=>t("div",R([u,...n,p])))}return E.display.map(e=>t("div",R(e)))},y=()=>{o.value=0,c.value=0,a("updateQuery",""),a("close")},W=()=>g?t("ul",{class:"slimsearch-result-list"},t("li",{class:"slimsearch-result-list-item"},[t("div",{class:"slimsearch-result-title"},B.value.queryHistory),m.value.map((E,e)=>t("div",{class:["slimsearch-result-item",{active:A.isQuery&&A.index===e}],onClick:()=>{a("updateQuery",E)}},[t(_,{class:"slimsearch-result-type"}),t("div",{class:"slimsearch-result-content"},E),t("button",{class:"slimsearch-remove-icon",innerHTML:I,onClick:u=>{u.preventDefault(),u.stopPropagation(),H(e)}})]))])):null,X=()=>D?t("ul",{class:"slimsearch-result-list"},t("li",{class:"slimsearch-result-list-item"},[t("div",{class:"slimsearch-result-title"},B.value.resultHistory),r.value.map((E,e)=>t(T,{to:E.link,class:["slimsearch-result-item",{active:!A.isQuery&&A.index===e}],onClick:()=>{y()}},()=>[t(_,{class:"slimsearch-result-type"}),t("div",{class:"slimsearch-result-content"},[E.header?t("div",{class:"content-header"},E.header):null,t("div",E.display.map(u=>R(u)).flat())]),t("button",{class:"slimsearch-remove-icon",innerHTML:I,onClick:u=>{u.preventDefault(),u.stopPropagation(),Q(e)}})]))])):null;return AE("keydown",E=>{if(s.isFocusing){if(x.value){if(E.key==="ArrowUp")K();else if(E.key==="ArrowDown")z();else if(E.key==="Enter"){const e=S.value.contents[c.value];h(s.queries.join(" ")),C(e),l.push(q(e)),y()}}else if(D){if(E.key==="ArrowUp")G();else if(E.key==="ArrowDown")V();else if(E.key==="Enter"){const{index:e}=A;A.isQuery?(a("updateQuery",m.value[e]),E.preventDefault()):(l.push(r.value[e].link),y())}}}}),BE([o,c],()=>{var E;(E=document.querySelector(".slimsearch-result-list-item.active .slimsearch-result-item.active"))==null||E.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["slimsearch-result-wrapper",{empty:s.queries.length?!x.value:!j.value}],id:"slimsearch-results"},s.queries.length?U.value?t(iE,{hint:B.value.searching}):x.value?t("ul",{class:"slimsearch-result-list"},i.value.map(({title:E,contents:e},u)=>{const p=o.value===u;return t("li",{class:["slimsearch-result-list-item",{active:p}]},[t("div",{class:"slimsearch-result-title"},E||B.value.defaultTitle),e.map((n,Z)=>{const L=p&&c.value===Z;return t(T,{to:q(n),class:["slimsearch-result-item",{active:L,"aria-selected":L}],onClick:()=>{h(s.queries.join(" ")),C(n),y()}},()=>[n.type==="text"?null:t(n.type==="title"?rE:n.type==="heading"?uE:nE,{class:"slimsearch-result-type"}),t("div",{class:"slimsearch-result-content"},[n.type==="text"&&n.header?t("div",{class:"content-header"},n.header):null,t("div",N(n))])])})])})):B.value.emptyResult:k?j.value?[W(),X()]:B.value.emptyHistory:B.value.emptyResult)}});export{SE as default};
